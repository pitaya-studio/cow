@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>配种信息录入</title>
    <link rel="stylesheet" type="text/css" href="../../../ligerUI/skins/Aqua/css/ligerui-all.css">
    <link rel="stylesheet" type="text/css" href="../../../Style/base.css">
    <script type="text/javascript" src="../../../Scripts/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="../../../ligerUI/js/ligerui.min.js"></script>
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap-theme1.min.css">
    <script type="text/javascript" src="../../../bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $(function () {
            loadInsemInfo();
            InitBtnEvent();
        })

        function loadInsemInfo() {
            $("#insemInfo").ligerForm({
                inputWidth: 170, labelWidth: 100, space: 40,
                fields: [
                { display: "耳号", name: "EarNum", type: "text", width: 270, validate: { required: true } },
                { display: "配次", name: "InseminationNum", type: "text", width: 270, validate: { required: true } },
                { display: "冻精类型", name: "SemenType", type: "text", width: 270, validate: { required: true } },
                { display: "冻精编号", name: "SemenNum", type: "text", width: 270, validate: { required: true } },
                { display: "发情发现方式", name: "EstrusFindType", type: "text", width: 270, validate: { required: true } },
                { display: "配种日期", name: "OperateDate", type: "date", width: 270, validate: { required: true } },
                { display: "配种员", name: "Operator", type: "text", width: 270, validate: { required: true } },
                { display: "描述", name: "Description", type: "text", width: 270 },
                { display: "发情日期", name: "EstrusDate", type: "date", width: 270 },
                { display: "发情类型", name: "EstrusType", type: "text", width: 270 },
                { display: "发情发现人", name: "EstrusFindPerson", type: "text", width: 270 }
                ]
            });

            liger.get("insemInfo").getEditor("EarNum").setValue("@ViewBag.EarNum");
            liger.get("insemInfo").getEditor("InseminationNum").setValue("@ViewBag.InseminationNum");
            liger.get("insemInfo").getEditor("SemenType").setValue("@ViewBag.SemenType");
            liger.get("insemInfo").getEditor("SemenNum").setValue("@ViewBag.SemenNum");
            liger.get("insemInfo").getEditor("EstrusFindType").setValue("@ViewBag.EstrusFindType");
            liger.get("insemInfo").getEditor("OperateDate").setValue("@ViewBag.OperateDate");
            liger.get("insemInfo").getEditor("Operator").setValue("@ViewBag.Operator");
            liger.get("insemInfo").getEditor("Description").setValue("@ViewBag.Description");
            liger.get("insemInfo").getEditor("EstrusDate").setValue("@ViewBag.EstrusDate");
            liger.get("insemInfo").getEditor("EstrusType").setValue("@ViewBag.EstrusType");
            liger.get("insemInfo").getEditor("EstrusFindPerson").setValue("@ViewBag.EstrusFindPerson");

        }

        function InitBtnEvent() {
            $('#btnSubmit').ligerButton({
                width: 60,
                text: '保存',
                click: function () {
                    if (liger.get("insemInfo").getEditor("Operator").getValue() == "") {
                        alert("配种员信息不能为空");
                    } else {
                        //提交表单
                        document.getElementById('insemInfo').submit();
                        parent.$.ligerDialog.close();
                        parent.$(".l-dialog,.l-window-mask").hide();
                    }
                },
                icon: null
            });
            $('#btnCancel').ligerButton({
                width: 60,
                text: '取消',
                click: function () {
                    parent.$.ligerDialog.close();
                    parent.$(".l-dialog,.l-window-mask").hide();
                },
                icon: null
            });
            $('#btnPrint').ligerButton({
                width: 60,
                text: '打印',
                click: function () {
                    window.print();
                },
                icon: null
            });
        }
    </script>
</head>
<body>
    <form class="form-inline" action="~/Breed/Insemination/Save/@ViewBag.EarNum" method="post" id="insemInfo"></form>
    <div style="text-align:center;">
        <input type="button" id="btnSubmit" value="保存" />
        <input type="button" id="btnCancel" value="取消" />
        <input type="button" id="btnPrint" value="打印" />
    </div>
</body>
</html>
