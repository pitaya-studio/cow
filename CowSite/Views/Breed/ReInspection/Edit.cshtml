@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>复检信息录入</title>
    <link rel="stylesheet" type="text/css" href="../../../ligerUI/skins/Aqua/css/ligerui-all.css">
    <link rel="stylesheet" type="text/css" href="../../../Style/base.css">
    <script type="text/javascript" src="../../../Scripts/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="../../../ligerUI/js/ligerui.min.js"></script>
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap-theme1.min.css">
    <script type="text/javascript" src="../../../bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $(function () {
            loadInsemInfo();
            InitBtnEvent();
        })

        function loadInsemInfo() {
            $("#reInspectInfo").ligerForm({
                inputWidth: 170, labelWidth: 90, space: 40,
                fields: [
                { display: "耳号", name: "EarNum", type: "text", width: 270, validate: { required: true } },
                { display: "复检日期", name: "OperateDate", type: "date", width: 270, validate: { required: true } },
                { display: "复检结果", name: "ReInspectResult", type: "text", width: 270, validate: { required: true } },
                { display: "复检人", name: "Operator", type: "text", width: 270, validate: { required: true } },
                { display: "复检协助人", name: "HelpOperator", type: "text", width: 270, validate: { required: true } },
                { display: "配后天数", name: "AfterInsemDays", type: "text", width: 270, validate: { required: true } },
                { display: "初检后天数", name: "AfterInitInspectDays", type: "text", width: 270, validate: { required: true } },
                { display: "描述", name: "Description", type: "text", width: 270 }
                ]
            });

            liger.get("reInspectInfo").getEditor("EarNum").setValue("@ViewBag.EarNum");
            liger.get("reInspectInfo").getEditor("OperateDate").setValue("@ViewBag.OperateDate");
            liger.get("reInspectInfo").getEditor("ReInspectResult").setValue("@ViewBag.ReInspectResult");
            liger.get("reInspectInfo").getEditor("Operator").setValue("@ViewBag.Operator");
            liger.get("reInspectInfo").getEditor("HelpOperator").setValue("@ViewBag.HelpOperator");
            liger.get("reInspectInfo").getEditor("AfterInsemDays").setValue("@ViewBag.AfterInsemDays");
            liger.get("reInspectInfo").getEditor("AfterInitInspectDays").setValue("@ViewBag.AfterInitInspectDays");
            liger.get("reInspectInfo").getEditor("Description").setValue("@ViewBag.Description");

        }

        function InitBtnEvent() {
            $('#btnSubmit').ligerButton({
                width: 60,
                text: '保存',
                click: function () {
                    if (liger.get("reInspectInfo").getEditor("Operator").getValue() == "") {
                        alert("初检员信息不能为空");
                    } else {
                        //提交表单
                        document.getElementById('reInspectInfo').submit();
                        parent.$.ligerDialog.close();
                        parent.$(".l-dialog,.l-window-mask").hide();
                    }
                },
                icon: null
            });
            $('#btnCancel').ligerButton({
                width: 60,
                text: '取消',
                click: function () {
                    parent.$.ligerDialog.close();
                    parent.$(".l-dialog,.l-window-mask").hide();
                },
                icon: null
            });
            $('#btnPrint').ligerButton({
                width: 60,
                text: '打印',
                click: function () {
                    window.print();
                },
                icon: null
            });
        }
    </script>
</head>
<body>
    <form class="form-inline" method="post" action="~/Breed/ReInspection/Save/@ViewBag.EarNum" id="reInspectInfo"></form>
    <div style="text-align:center;">
        <input type="button" id="btnSubmit" value="保存" />
        <input type="button" id="btnCancel" value="取消" />
        <input type="button" id="btnPrint" value="打印" />
    </div>
</body>
</html>
